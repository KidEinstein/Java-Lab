import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import java.util.Scanner;

import com.mysql.jdbc.Driver;

public class StudentInformation {
	public static void main(String[] args) {
		Scanner in = new Scanner(System.in);
		String driver = "com.mysql.jdbc.Driver";
		String url = "jdbc:mysql://localhost:3306/";
		String dbName = "javalab";
		String user = "root";
		String password = "m1y3s5q7l9";
		Connection conn;
		try {
			Class.forName(driver);
		} catch (ClassNotFoundException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		
		try {
			conn = DriverManager.getConnection(url + dbName, user, password);
			while (true) {
				System.out.println("Enter 1 for display, 2 for insert");
				int choice = in.nextInt();
				if (choice == 1) display(conn);
				else if (choice == 2) insert(conn);
			} 

		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

	}
	public static void display(Connection conn) throws SQLException {
		String query = "select * from student";
		Statement stmt = conn.createStatement();
		ResultSet rs = stmt.executeQuery(query);
		while (rs.next()) {
			System.out.println("USN: " + rs.getString(1) + " Name: " + rs.getString(2));
		}
	}
	public static void insert(Connection conn) throws SQLException {
		PreparedStatement ps = conn.prepareStatement("insert into student values (?,?");
		ps.setInt(1, 123);
		ps.setString(2, "anirudh");
		ps.executeUpdate();
	}
}
